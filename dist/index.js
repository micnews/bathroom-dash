!function e(t,n,i){function r(a,c){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!c&&u)return u(a,!0);if(o)return o(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){var n=t[a][1][e];return r(n?n:e)},d,d.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var r=e("./play-game"),o=i(r);(0,o["default"])()},{"./play-game":3}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=30;n["default"]=function(e){var t=e.context,n=e.height,r=e.width,o=e.imageHeight,a=e.imageWidth,c=e.xPos,u=void 0===c?0:c,s=e.yPos,d=void 0===s?0:s,l=e.image,f=e.loop,h=e.numberOfFrames,m=void 0===h?1:h,g=e.ticksPerFrame,v=void 0===g?1:g,p={context:t,imageWidth:a,imageHeight:o,width:r||a,height:n||o,xPos:u,yPos:d,ticksPerFrame:v,numberOfFrames:m,image:l,loop:f,frameIndex:0,tickCount:0,update:function(e){var t=e.x,n=e.y,i=e.absolute,r=void 0===i?!1:i;t&&(p.xPos=r?t:p.xPos+t),n&&(p.yPos=r?n:p.yPos+n),p.context.drawImage(p.image,p.frameIndex*p.imageWidth,0,p.imageWidth,p.imageHeight,p.xPos,p.yPos,p.width,p.height),p.numberOfFrames>1&&(p.tickCount+=1,p.tickCount>=p.ticksPerFrame&&(p.tickCount=0,p.frameIndex<p.numberOfFrames-1?p.frameIndex+=1:p.loop&&(p.frameIndex=0)))},getRect:function(){return{top:p.yPos+i,bottom:p.yPos+p.height-i,left:p.xPos+i,right:p.xPos+p.width-i}},collidingWith:function(e){var t=p.getRect(),n=e.getRect();return!(n.left>t.right||n.right<t.left||n.top>t.bottom||n.bottom<t.top)}};return p}},{}],3:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){function e(){return(Math.floor(R/100)+1)/2}function t(){return h+e()*m}function n(){A=-l.height+W.height+x}function i(){for(var e=0;e<C.length;e++)if(W.collidingWith(C[e]))return!0}function o(){return I=window.requestAnimationFrame(o),l.getContext("2d").clearRect(0,0,l.width,l.height),T.forEach(function(e,n){e.update({x:-t()/2}),e.xPos+e.width<0&&T.splice(n,1)}),D.forEach(function(e,t){e.update({x:e.speed}),e.xPos>l.width&&D.splice(t,1)}),C.forEach(function(e,n){e.update({x:-t()}),e.xPos+e.width<0&&C.splice(n,1)}),W.update({y:-A,absolute:!0}),i()?void O():void 0}function u(){console.log("new level"),W.ticksPerFrame>1&&(W.ticksPerFrame-=1)}function b(){var t=e();R+=1;var n=e();n>t&&u(),d.querySelector(".score").innerHTML=R}function F(){if(Math.random()>=y){var e=Math.random()>=.5?"female":"male",t=10*(Math.random()-.5)+10,n=100,i=300,r=200,o=new Image;o.src="/images/cis/running-"+e+".png";var c=(0,a["default"])({context:f,imageWidth:"female"===e?250:223,imageHeight:327,width:r,height:i,numberOfFrames:9,image:o,ticksPerFrame:5,loop:!0,xPos:-r-n,yPos:l.height-i-x});c.speed=t,D.push(c)}}function k(){var e=new Image;e.src="/images/misc/bathroom-sign.png";var t=(0,a["default"])({context:f,imageWidth:127,imageHeight:167,numberOfFrames:1,image:e,xPos:l.width+127,yPos:100});T.push(t)}function q(e){if(e.preventDefault(),!W.actioning){var i=g/t(),r=new Date;P=setInterval(function(){n();var e=new Date,t=e-r;A+=Math.sin(t*Math.PI/i)*v},1),w=setTimeout(function(){clearInterval(P),n(),W.actioning=!1},i),W.actioning=!0}}function M(){}function O(){clearInterval(N),clearInterval(P),clearInterval(U),clearInterval(z),clearTimeout(w),window.cancelAnimationFrame(I),r()}function E(){s.innerHTML='<div class="button jump"></div><div class="button slide"></div>';var e=s.querySelector(".jump"),t=s.querySelector(".slide"),n="calc(50% - "+p/2+"px)";e.style.height=n,t.style.height=n,G=e.addEventListener("touchend",q),J=t.addEventListener("touchend",M),c||(document.addEventListener("keydown",function(e){q()}),document.addEventListener("keydown",function(e){M()}))}function H(){d.innerHTML='<div class="frame"></div><div class="score"></div>';var e=d.querySelector(".frame");e.style.height="calc(100% - "+p+"px - 10px)";var t=d.querySelector(".score");t.style.height=p+"px",t.style.lineHeight=p-15+"px"}function L(){window.addEventListener("mousewheel",function(e){e.preventDefault(),e.stopPropagation()})}var S=new Image;S.src="/images/trans/running.png";var W=(0,a["default"])({context:f,imageWidth:250,imageHeight:341,width:200,height:300,numberOfFrames:9,image:S,ticksPerFrame:6,xPos:50,yPos:l.height-300-x,loop:!0});W.actioning=!1;var _=(0,a["default"])({context:f,imageWidth:250,imageHeight:341,numberOfFrames:9,image:S,ticksPerFrame:10,loop:!0,xPos:l.width+327,yPos:l.height-327-x}),C=[_],D=[],T=[],j=[W].concat(C).concat(D).concat(T),R=0,A=void 0;n();var N=setInterval(b,100),U=setInterval(F,1e3),z=setInterval(k,5e3),B=0;j.forEach(function(e){e.image.addEventListener("load",function(){B++,B===j.length&&o()})});var G=void 0,J=void 0;E(),H(),L()}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./create-sprite"),a=i(o),c=!0,u=document.querySelector(".main"),s=u.querySelector(".buttons"),d=u.querySelector(".overlay"),l=u.querySelector(".canvas"),f=l.getContext("2d"),h=10,m=5,g=12500,v=450,p=125,x=p*(l.height/parseInt(window.getComputedStyle(l).height,10)),y=.5,P=void 0,w=void 0,I=void 0;n["default"]=r},{"./create-sprite":2}]},{},[1]);