!function e(t,i,a){function o(r,s){if(!i[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(n)return n(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[r]={exports:{}};t[r][0].call(h.exports,function(e){var i=t[r][1][e];return o(i?i:e)},h,h.exports,e,t,i,a)}return i[r].exports}for(var n="function"==typeof require&&require,r=0;r<a.length;r++)o(a[r]);return o}({1:[function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var o=e("./play-game"),n=a(o);(0,n["default"])()},{"./play-game":5}],2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=30;i["default"]=function(e){var t=e.context,i=e.height,o=e.width,n=e.imageHeight,r=e.imageWidth,s=e.xPos,c=void 0===s?0:s,d=e.yPos,h=void 0===d?0:d,m=e.image,g=e.loop,l=e.numberOfFrames,u=void 0===l?1:l,p=e.ticksPerFrame,f=void 0===p?1:p,v=e.frameIndex,b=void 0===v?0:v,w=e.hitboxTop,y=void 0===w?a:w,x=e.hitboxBottom,_=void 0===x?a:x,k=e.hitboxLeft,P=void 0===k?a:k,I=e.hitboxRight,H=void 0===I?a:I,W={context:t,imageWidth:r,imageHeight:n,width:o||r,height:i||n,hitboxTop:y,hitboxBottom:_,hitboxLeft:P,hitboxRight:H,xPos:c,yPos:h,ticksPerFrame:f,numberOfFrames:u,image:m,loop:g,frameIndex:b,tickCount:0,update:function(e){var t=e.x,i=e.y,a=e.absolute,o=void 0===a?!1:a;t&&(W.xPos=o?t:W.xPos+t),i&&(W.yPos=o?i:W.yPos+i),W.context.drawImage(W.image,W.frameIndex*W.imageWidth,0,W.imageWidth,W.imageHeight,W.xPos,W.yPos,W.width,W.height),W.numberOfFrames>1&&(W.tickCount+=1,W.tickCount>=W.ticksPerFrame&&(W.tickCount=0,W.frameIndex<W.numberOfFrames-1?W.frameIndex+=1:W.loop&&(W.frameIndex=0)))},getRect:function(){return{top:W.yPos+W.hitboxTop,bottom:W.yPos+W.height-W.hitboxBottom,left:W.xPos+W.hitboxLeft,right:W.xPos+W.width-W.hitboxRight}},collidingWith:function(e){var t=W.getRect(),i=e.getRect();return!(i.left>t.right||i.right<t.left||i.top>t.bottom||i.bottom<t.top)}};return W}},{}],3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=function(e,t){var i=e.obstacle,o=e.score,n="petition"===i.cta.type?"Sign the petition":"Donate";a.style.zIndex=1,a.style.pointerEvents="inherit",a.innerHTML+='<div class="game_over"><div class="game_over__image" style="background-position: '+i.position+"; background-image: url("+i.image.src+')"></div><div class="game_over__copy"><div class="game_over__score">Score: '+o+'</div><div class="game_over__description"><div class="game_over__description__bold">Here\'s why you lost:</div> '+i.description+'</div><div class="game_over__ctas-header">And here\'s what can you do:</div><div class="game_over__ctas"><div class="game_over__ctas__article"><a target="_blank" href="'+i.article+'">Read the story</a></div><div class="game_over__ctas__action"><a target="_blank" href="'+i.cta.link+'">'+n+'</a></div><div class="game_over__ctas__play-again">Play again</div></div></div></div>',a.querySelector(".game_over__ctas__play-again").addEventListener("click",function(e){a.style.zIndex="inherit",a.style.zIndex="none",e.preventDefault(),t()})};var a=document.querySelector(".overlay")},{}],4:[function(e,t,i){t.exports=[{name:"Verbal abuse while riding public transportation",image:{src:"/images/obstacles/verbal-abuse.png",position:"top",imageWidth:105,imageHeight:570},description:"Pearl Love, a trans woman in NYC, recorded and uploaded a woman berating her on the subway, claiming the sight of Love was indecent and offensive for her child to see.",article:"https://mic.com/articles/142537",cta:{type:"petition",link:"https://www.change.org/p/suffolk-county-virginia-school-system-stop-harrassment-and-bullying-of-trans-gender-non-conforming-kids"}},{name:"Wearing boxer briefs",image:{src:"/images/obstacles/briefs.png",position:"top",imageWidth:92,imageHeight:395},description:'Trans beauty queen Jai Dará Latto lost her crown after footage was released of her wearing boxer briefs around her house. The judge rescinded her title, claiming Latto is not a "full-time woman" because she wears boxers.',article:"https://mic.com/articles/135849",cta:{type:"fund",link:"https://www.gofundme.com/armoragainstwonder"}},{name:"Dysfunction in medical care",image:{src:"/images/obstacles/doctor.png",position:"bottom",imageWidth:92,imageHeight:402},description:"Trans woman and activist Alesha died in a hospital in Peshawar, Pakistan after doctors failed to help her because they could not decide whether to treat her in the male or female ward.",article:"https://mic.com/articles/144405",cta:{type:"petition",link:"https://www.change.org/p/stop-trans-health-care-discrimination-a-demand-to-all-major-health-insurance-providers-in-the-united-states"}},{name:"Airbnb host rejects trans tenants",image:{src:"/images/obstacles/bed.png",position:"bottom",imageWidth:151,imageHeight:407},description:'An Airbnb host rejected Shadi Petosky, a trans woman who applied to stay her home, because the host didn’t want her son "to feel discomfort in his own home."',article:"https://mic.com/articles/145418",cta:{type:"fund",link:"https://www.gofundme.com/26guqkn8"}},{name:"Governor Pat McCrory and HB2",image:{src:"/images/obstacles/nc.png",position:"top",imageWidth:157,imageHeight:481},description:"In March, McCrory passed House Bill 2, a policy that bans individuals in North Carolina from using public bathrooms that do not correspond to their biological sex. HB2 also permits the NC state government to prevent cities from passing non-discrimination legislation.",article:"http://edition.cnn.com/2016/03/23/politics/north-carolina-gender-bathrooms-bill/",cta:{type:"petition",link:"https://www.change.org/p/north-carolina-state-senate-allow-the-transgender-community-go-utilize-restrooms-that-align-with-their-gender-identity"}},{name:"Bathroom bombing during Target transgender boycott",image:{src:"/images/obstacles/bomb.png",position:"top",imageWidth:140,imageHeight:391},description:"When Target announced their trans-inclusive bathroom policy, it sparked protests and a petition with over 1 million signatures to boycott Target. In Illinois, a small bomb exploded in a women’s bathroom. Its connection to the bathroom policy remains unconfirmed.",article:"https://mic.com/articles/145804",cta:{type:"petition",link:"http://petitions.moveon.org/sign/support-target-in-its"}},{name:"Fired for being trans",image:{src:"/images/obstacles/office.png",position:"bottom",imageWidth:118,imageHeight:381},description:"Up to 47% of transgender people report that they've been unfairly fired or denied employment based on how they identify. Up to 76% report workplace harassment, and trans individuals are twice as likely to be unemployed.",article:"https://mic.com/articles/136452",cta:{type:"petition",link:"https://www.change.org/p/hillary-clinton-end-transgender-employment-discrimination"}},{name:"Assault in bathroom",image:{src:"/images/obstacles/hand.png",position:"bottom",imageWidth:113,imageHeight:401},description:"22-year-old Aimee Toms was accosted in a women’s bathroom in Walmart this May. Why? Because a customer thought she was a trans woman. In reality, Toms is cisgender and had short hair because she had recently donated her locks to cancer victims.",article:"https://mic.com/articles/143607",cta:{type:"petition",link:"https://www.change.org/p/northwestern-university-create-more-gender-neutral-bathrooms-on-campus-for-transgender-students"}},{name:"Assault in bathroom",image:{src:"/images/obstacles/hand.png",position:"bottom",imageWidth:113,imageHeight:401},description:'Shon Yves, 24, is a stylist in Virginia who is "still working out" his gender identity. He described an incident in a men’s bathroom in which a white man said, "I thought this was the men\'s room" and "Sure wish this was North Carolina", referring to HB2. He has also been physically assaulted numerous times.',article:"https://mic.com/articles/141142",cta:{type:"petition",link:"https://www.change.org/p/tim-rahilly-gender-inclusive-washrooms"}},{name:"Assault in bathroom",image:{src:"/images/obstacles/hand.png",position:"bottom",imageWidth:113,imageHeight:401},description:'32-year-old transgender woman Ebony Belcher was assaulted and kicked out of a supermarket in Washington, DC after she tried to use the woman’s bathroom. "She opened the door and came in and started calling me derogatory names," Belcher told the Daily Beast. She recounted that the guard said, "You guys cannot keep coming in here and using our women’s restroom. They did not pass the law yet."',article:"http://www.thedailybeast.com/articles/2016/05/19/d-c-security-guard-assaulted-trans-woman-for-using-bathroom.html",cta:{type:"petition",link:"https://www.change.org/p/ny-state-pass-genda-help-end-discrimination-against-transgender-individuals"}},{name:"Threat of violent attack in bathroom",image:{src:"/images/obstacles/gun.png",position:"bottom",imageWidth:85,imageHeight:390},description:'The intense right-wing outrage over Target’s bathroom policy has veered into the realm of physical violence. "I\'m taking a Glock .45 to the ladies room. It identifies as my bodyguard," Anita Starver, a lawyer, tweeted. In Texas, a candidate for sheriff warned that he would "beat the hell out of a transgender person who tried to piss in a bathroom where [his] daughter was peeing."',article:"http://www.advocate.com/transgender/2016/4/25/right-wingers-pledge-carry-guns-bathroom-fend-trans-folks",cta:{type:"petition",link:"https://www.change.org/p/ny-state-pass-genda-help-end-discrimination-against-transgender-individuals"}}]},{}],5:[function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(e){for(var t=e.length-1;t>0;t--){var i=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[i],e[i]=a}return e}function n(){function e(){B=(0,s["default"])({context:v,imageWidth:250,imageHeight:341,width:200,height:300,numberOfFrames:9,image:O,ticksPerFrame:6,xPos:50,yPos:f.height-300-k,loop:!0}),B.actioning=!1}function t(){return(Math.floor(Y/100)+1)/2}function i(){return b+t()*w}function a(){V=-f.height+B.height+k}function r(){for(var e=0;e<j.length;e++)if(B.collidingWith(j[e]))return j[e]}function c(){W=window.requestAnimationFrame(c),f.getContext("2d").clearRect(0,0,f.width,f.height),z.forEach(function(e,t){e.update({x:-i()/2}),e.xPos+e.width<0&&z.splice(t,1)}),N.forEach(function(e,t){e.update({x:e.speed}),e.xPos>f.width&&N.splice(t,1)}),j.forEach(function(e,t){e.update({x:-i()}),e.xPos+e.width<0&&(j.splice(t,1),G+=1,p.querySelector(".score").innerHTML=G,T())}),B.update({y:-V,absolute:!0});var e=r();return e?void q(e):void 0}function h(){console.log("new level"),B.ticksPerFrame>1&&(B.ticksPerFrame-=1)}function l(){var e=t();Y+=1;var i=t();i>e&&h()}function T(){R===m["default"].length&&(R=0,o(m["default"]));var e=m["default"][R];R+=1;var t=e.image.width||e.image.imageWidth,i=e.image.height||e.image.imageHeight,a=new Image;a.src=e.image.src;var n=(0,s["default"])({context:v,imageWidth:e.image.imageWidth,imageHeight:e.image.imageHeight,width:t,hidth:i,numberOfFrames:e.image.numberOfFrames||1,image:a,ticksPerFrame:e.image.speed||5,loop:e.image.loop||!0,xPos:f.width+t,yPos:"bottom"===e.image.position?f.height-i-k:15,hitboxTop:e.image.hitboxTop,hitboxBottom:e.image.hitboxBottom,hitboxLeft:e.image.hitboxLeft,hitboxRight:e.image.hitboxRight}),r=["name","description","article","cta"];r.forEach(function(t){n[t]=e[t]}),n.position=e.image.position,j.push(n)}function M(){if(Math.random()>=P){var e=Math.random()>=.5?"female":"male",t=10*(Math.random()-.5)+10,i=100,a=300,o=200,n=new Image;n.src="/images/cis/running-"+e+".png";var r=(0,s["default"])({context:v,imageWidth:250,imageHeight:327,width:o,height:a,numberOfFrames:9,image:n,ticksPerFrame:5,loop:!0,xPos:-o-i,yPos:f.height-a-k});r.speed=t,N.push(r)}}function F(){var e=new Image;e.src="/images/misc/bathroom-sign.png";var t=(0,s["default"])({context:v,imageWidth:127,imageHeight:167,numberOfFrames:1,image:e,xPos:f.width+127,yPos:100});z.push(t)}function L(e){if(e&&e.preventDefault(),!B.actioning){var t=y/i(),o=new Date;I=setInterval(function(){a();var e=new Date,i=e-o;V+=Math.sin(i*Math.PI/t)*x},1),H=setTimeout(function(){clearInterval(I),a(),B.actioning=!1},t),B.actioning=!0}}function S(t){if(t&&t.preventDefault(),!B.actioning){var a=y/i(),o=a/9,n=new Date,r=0;B.frameIndex=r,B.imageWidth=284,B.imageHeight=323,B.width+=50,B.image=A,B.ticksPerFrame=1e3,B.hitboxTop=250,I=setInterval(function(){var e=new Date,t=e-n;r=Math.floor(t/o),B.frameIndex=r},1),H=setTimeout(function(){clearInterval(I),e(),B.actioning=!1},a),B.actioning=!0}}function q(e){clearInterval(J),clearInterval(I),clearInterval(K),clearInterval(Q),clearTimeout(H),window.cancelAnimationFrame(W),(0,d["default"])({obstacle:e,score:G},n)}function E(){u.innerHTML='<div class="button jump"></div><div class="button slide"></div>';var e=u.querySelector(".jump"),t=u.querySelector(".slide"),i="calc(50% - "+_/2+"px)";e.style.height=i,t.style.height=i,Z=e.addEventListener("touchend",L),$=t.addEventListener("touchend",S),g||(document.addEventListener("keydown",function(e){L()}),document.addEventListener("keydown",function(e){S()}))}function C(){p.innerHTML='<div class="frame"></div><div class="score">0</div>';var e=p.querySelector(".frame");e.style.height="calc(100% - "+_+"px - 10px)";var t=p.querySelector(".score");t.style.height=_+"px",t.style.lineHeight=_-15+"px"}function D(){window.addEventListener("mousewheel",function(e){e.preventDefault(),e.stopPropagation()})}var O=new Image;O.src="/images/trans/running.png";var B=void 0;e();var A=new Image;A.src="/images/trans/sliding.png";var j=[],R=0,N=[],z=[],U=[B].concat(j).concat(N).concat(z),Y=0,G=0,V=void 0;a();var J=setInterval(l,100),K=setInterval(M,1e3);T();var Q=setInterval(F,5e3),X=0;U.forEach(function(e){e.image.addEventListener("load",function(){X++,X===U.length&&c()})});var Z=void 0,$=void 0;E(),C(),D()}Object.defineProperty(i,"__esModule",{value:!0});var r=e("./create-sprite"),s=a(r),c=e("./game-over"),d=a(c),h=e("./obstacles.json"),m=a(h),g=!0,l=document.querySelector(".main"),u=l.querySelector(".buttons"),p=l.querySelector(".overlay"),f=l.querySelector(".canvas"),v=f.getContext("2d"),b=10,w=5,y=12500,x=450,_=125,k=_*(f.height/parseInt(window.getComputedStyle(f).height,10)),P=.5,I=void 0,H=void 0,W=void 0;o(m["default"]),i["default"]=n},{"./create-sprite":2,"./game-over":3,"./obstacles.json":4}]},{},[1]);